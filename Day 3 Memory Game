sequence = [0]
player_sequence = [0]
alive = True
def on_forever():
    start = input.button_is_pressed(Button.AB)  
    if start:
        global sequence
        global alive
        sequence = [0]
        alive = True
        basic.show_string("321GO!")
        while alive:           
            pause(200)
            basic.clear_screen()
            pause(200)
            global sequence
            rand = randint(0,1)
            sequence.append(rand)
            flash_sequence()
            pause(100)
            get_player_sequence()
basic.forever(on_forever)

def get_player_sequence():
    global sequence
    global player_sequence
    global alive
    player_sequence = [0]

    basic.show_number(3)
    pause(100)
    basic.show_number(2)
    pause(100)
    basic.show_number(1)
    pause(100)
    basic.clear_screen()
    pause(100)
    while (len(player_sequence)) < len(sequence):
        global sequence
        global player_sequence
        if input.button_is_pressed(Button.A):
            left_lights()
            player_sequence.append(0)
        elif input.button_is_pressed(Button.B):
            right_lights()
            player_sequence.append(1)
    for i in range (1, len(sequence) + 1):      
        if sequence[i] != player_sequence[i]:
            alive = False
    if alive == False:
        basic.show_string("YOU LOSE")
        basic.show_string("Score:")
        basic.show_number(len(sequence) - 1)
        pause(500)
        basic.clear_screen()
        
def left_lights():
    for i in range(0,5):
        led.plot(0, i)
        led.plot(1, i)
    pause(200)
    basic.clear_screen()
    pause(400)

def right_lights():
    for x in range(3,5):
        for i in range(0,5):
            led.plot(x,i)
    pause(200)
    basic.clear_screen()
    pause(400)

def flash_sequence():
    global sequence
    for i in range(1, len(sequence) + 1):
        if sequence[i] == 0:
            left_lights()
        elif sequence[i] == 1:
            right_lights()
        pause(300)
    



    
